(function(e){function t(t){for(var a,o,l=t[0],i=t[1],s=t[2],d=0,b=[];d<l.length;d++)o=l[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&b.push(r[o][0]),r[o]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);u&&u(t);while(b.length)b.shift()();return c.push.apply(c,s||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],a=!0,l=1;l<n.length;l++){var i=n[l];0!==r[i]&&(a=!1)}a&&(c.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},r={app:0},c=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],i=l.push.bind(l);l.push=t,l=l.slice();for(var s=0;s<l.length;s++)t(l[s]);var u=i;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1:function(e,t){},1929:function(e,t,n){"use strict";n("6dfc")},2:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23");function r(e,t,n,r,c,o){var l=Object(a["j"])("TideTable");return Object(a["f"])(),Object(a["c"])(l,{waterlevels:c.waterlevels},null,8,["waterlevels"])}var c=n("1da1"),o=(n("96cf"),Object(a["l"])("data-v-ed410ba8"));Object(a["h"])("data-v-ed410ba8");var l={class:"container"},i=Object(a["e"])("div",{class:"row"},[Object(a["e"])("div",{class:"col"},[Object(a["e"])("h1",{class:"display-1"},"Hamnvik")])],-1),s={class:"row"},u={class:"col"},d={class:"table"},b=Object(a["e"])("thead",null,[Object(a["e"])("tr",null,[Object(a["e"])("th",{scope:"col"}),Object(a["e"])("th",{scope:"col"},"Flo kl."),Object(a["e"])("th",{scope:"col"},"NivÃ¥ (cm)")])],-1),f=Object(a["e"])("div",{class:"row"},[Object(a["e"])("div",{class:"col"},[Object(a["e"])("p",null,[Object(a["e"])("small",null,"Data hentet fra sehavniva.no")])])],-1);Object(a["g"])();var v=o((function(e,t,n,r,c,o){var v=Object(a["j"])("TideRow");return Object(a["f"])(),Object(a["c"])("div",l,[i,Object(a["e"])("div",s,[Object(a["e"])("div",u,[Object(a["e"])("table",d,[b,Object(a["e"])("tbody",null,[(Object(a["f"])(!0),Object(a["c"])(a["a"],null,Object(a["i"])(n.waterlevels,(function(e,t){return Object(a["f"])(),Object(a["c"])(v,{key:t,waterlevel:e,dayindex:t},null,8,["waterlevel","dayindex"])})),128))])])])]),f])}));function p(e,t,n,r,c,o){var l=Object(a["j"])("TideRowMicro");return Object(a["f"])(!0),Object(a["c"])(a["a"],null,Object(a["i"])(o.extractLevels(n.waterlevel),(function(e,t){return Object(a["f"])(),Object(a["c"])(l,{key:t,waterlevelInstance:e,classstyle:o.getColor(n.dayindex)},null,8,["waterlevelInstance","classstyle"])})),128)}n("a9e3");var j=Object(a["l"])("data-v-71c5ca4e");Object(a["h"])("data-v-71c5ca4e");var O={scope:"row"};Object(a["g"])();var h=j((function(e,t,n,r,c,o){return o.isHighTide()?(Object(a["f"])(),Object(a["c"])("tr",{key:0,class:n.classstyle},[Object(a["e"])("td",O,Object(a["k"])(o.formatDate(n.waterlevelInstance["$"].time)),1),Object(a["e"])("td",null,Object(a["k"])(o.formatTime(n.waterlevelInstance["$"].time)),1),Object(a["e"])("td",null,Object(a["k"])(o.formatCm(n.waterlevelInstance["$"].value)),1)],2)):Object(a["d"])("",!0)})),y=(n("b680"),n("b166")),w=n("9170"),m={props:{waterlevelInstance:{type:Object,required:!0},highTide:Boolean,classstyle:String},methods:{formatDate:function(e){return Object(y["a"])(new Date(e),"EEEEEE do MMMM",{locale:w["a"]})},formatTime:function(e){return Object(y["a"])(new Date(e),"HH:mm")},isHighTide:function(){return"high"==this.waterlevelInstance["$"].flag},formatCm:function(e){return parseFloat(e).toFixed(0)}}};n("1929");m.render=h,m.__scopeId="data-v-71c5ca4e";var g=m,T={components:{TideRowMicro:g},props:{waterlevel:{type:Object,required:!0},dayindex:Number},methods:{extractLevels:function(e){return e.levels},getColor:function(e){var t=e%2==0;return t?"table-default":"table-secondary"}},mounted:function(){console.log("Data for dag:",this.waterlevel)}};T.render=p;var M=T,x={name:"TideTable",components:{TideRow:M},props:{waterlevels:{type:Array,required:!0}}};x.render=v,x.__scopeId="data-v-ed410ba8";var k=x,I=n("bc3a"),_=n.n(I),P=n("e3ee"),D=n("2186"),H=n("f7f1"),S=n("083c").parseString,E={name:"App",components:{TideTable:k},data:function(){return{waterlevels:[],now:new Date,daysToPredict:14}},methods:{getNorwayMidnightInUtc:function(){var e=Object(P["a"])(Object(y["a"])(this.now,"yyyy-MM-dd")),t=this.now.getTimezoneOffset(),n=Object(D["a"])(e,t);return n},getYesterday:function(){var e=Object(y["a"])(this.getNorwayMidnightInUtc(),"yyyy-MM-dd");return e},getFrom:function(){var e=Object(y["a"])(this.getNorwayMidnightInUtc(),"HH:mm"),t=this.getYesterday()+"T"+e;return t},getTo:function(){var e=this.daysToPredict-1,t=Object(y["a"])(Object(H["a"])(this.now,e),"yyyy-MM-dd")+"T22:59";return t},fetchWaterlevels:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.getFrom(),a=e.getTo(),r="https://api.sehavniva.no/tideapi.php?tide_request=locationdata&lat=68.7782192&lon=17.1796206&datatype=TAB&lang=nb&place=Har&dst=1&fromtime="+n+"&totime="+a+"&interval=10&flag=high",_.a.get(r).then((function(t){var n=e,a=[];S(t.data,{explicitArray:!1},(function(e,t){a=t.tide.locationdata.data.waterlevel}));var r,c=[],o=[],l="1970-01-01",i="1970-01-01";for(r=0;r<a.length;r++)i=Object(y["a"])(new Date(a[r]["$"].time),"yyyy-MM-dd"),0==r&&(l=i),i===l?o.push(a[r]):(c.push({day:l,levels:o}),o=[],o.push(a[r]),l=i);c.push({day:i,levels:o}),n.waterlevels=c}));case 4:case"end":return t.stop()}}),t)})))()}},mounted:function(){this.fetchWaterlevels()}};n("b419");E.render=r;var R=E;Object(a["b"])(R).mount("#app")},"6dfc":function(e,t,n){},b419:function(e,t,n){"use strict";n("caa7")},caa7:function(e,t,n){}});
//# sourceMappingURL=app.5421a2ca.js.map